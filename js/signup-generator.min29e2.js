$(document).ready(function(){const emailValidationError=$('#i18n-validation-email').text();const requiredValidationError=$('#i18n-validation-required').text();const passwordValidationError=$('#i18n-validation-password-match').text();const unknownValidationError=$('#i18n-validation-unknown').text();const errorElement=$('.validation-error-signup');$(document).mouseup(function(e){let signupGeneratorContainer=$('.preview-email-sigup-generator__component');if(signupGeneratorContainer.length&&!signupGeneratorContainer.is(e.target)&&signupGeneratorContainer.has(e.target).length===0){$('.preview-email-sigup-generator-content.pseudo-input-preview').css({'display':'none'});$('.preview-email-sigup-generator-content.click-button').fadeIn('fast','linear');$('#previewEmailSigupGeneratorNotificationPopUp').fadeOut('fast','linear');$('#sigupGeneratorTextInput-error').fadeOut('fast','linear');$('#emailSignupGeneratorForm').validate().resetForm();}});if($('.preview-email-sigup-generator__component .preview-email-sigup-generator-content.click-button').length){$('.preview-email-sigup-generator__component .preview-email-sigup-generator-content.click-button').click(function(){$(this).css({'display':'none'});$('.preview-email-sigup-generator__component .preview-email-sigup-generator-content.pseudo-input-preview').fadeIn();if($('#previewEmailSigupGeneratorNotificationPopUp').length){$('#previewEmailSigupGeneratorNotificationPopUp').fadeIn();}
$('.preview-email-sigup-generator__component .preview-email-sigup-generator-content.pseudo-input-preview #sigupGeneratorTextInput').focus();});}
if($('form#emailSignupGeneratorForm').length){$('form#emailSignupGeneratorForm').validate({errorElement:'div',errorClass:'validation-error',rules:{email:{required:true,email:true,}},messages:{email:{email:emailValidationError,required:requiredValidationError,},},submitHandler:function(form,params){const subscriptionForm=$('#emailSignupGeneratorForm');const subscriptionAction=subscriptionForm.attr('action');const subscriptionInput=$('#sigupGeneratorTextInput').val();const ownerUsername=subscriptionForm.data('username');const errorElement=$('#emailSignupGeneratorForm #sigupGeneratorTextInput-error');const generatorWrapperBackgroundColor=$('.preview-email-sigup-generator-wrapper').data('background');$.ajax({type:form.method,dataType:'json',contentType:'application/json',url:form.action,data:JSON.stringify({"email":subscriptionInput,"username":ownerUsername,}),success:function(data){if(data.status==="ok"){$('.preview-email-sigup-generator-content.pseudo-input-preview').css({'display':'none'});$('.preview-email-sigup-generator-content.click-button').fadeIn('fast','linear');$('.preview-email-sigup-generator-content.click-button span.base-text').css({'display':'none'});$('.preview-email-sigup-generator__component').css({'background':generatorWrapperBackgroundColor});$('.preview-email-sigup-generator-content.click-button span.success-text').css({'display':'block'}).addClass('show');$('#previewEmailSigupGeneratorNotificationPopUp').fadeOut('fast','linear');}},error:function(data){if(data.responseJSON){errorElement.fadeIn().text(data.responseJSON.error);}}});}});}});